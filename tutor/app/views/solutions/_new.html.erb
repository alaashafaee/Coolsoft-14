<!-- The flash messages for the succes and failure scenarios -->
<p style="color: green"><%= flash[:success] %></p>
<p style="color: red"><%= flash[:alert] %></p>
<!-- Timer that starts when problem is shown -->
<b>Time spent:</b>
<span id="mins">0</span>:<span id="secs">00</span>

<%= form_for :solution, url: {controller: 'solutions', action: 'create'},
	html: {method: 'post'} do |f| %>

	<!--Author: Ahmed Moataz-->
	<div class="editor_border">
		<div class="editor_top">
			<div style="margin-left: 2px;">
				public class CoolSoft {
			</div>
		</div>
		<%= @code = f.text_area :code,
			value: flash[:previous_code]==nil ?
				"\tpublic static void main(String [] args) {\n\t\t\n\t}" :
				flash[:previous_code].to_s,
			placeholder: "Write your code here and then click submit",
			class: "editor" %>
		<div class="editor_bottom">
			<div style="margin-left: 2px;">
				}
			</div>
		</div>
	</div>

	<%= f.hidden_field :problem_id, value: params[:id] %>
	<%= f.hidden_field :file_name, value: flash[:file_name] %>
	<br>
	<table width='100%'>
		<tr>
			<td>
				<%= button_tag 'Compile', type: 'Button',
					id: 'compileButton', onClick: 'compile()' %>
				<%= button_tag 'Test', type: 'Button',
					id: 'testButton', onClick: 'test()' %>
				<%= button_tag 'Start Debugging', id: 'debugButton', type: 'button',
					onclick: "start_debug(#{params[:id]})" %>
				<%= button_tag 'Previous', type: 'Button',
					id: 'previousButton', onClick: 'previous()', hidden: true %>
				<%= button_tag 'Next', type: 'Button',
					id: 'nextButton', onClick: 'next()', hidden: true %>
				<%= button_tag 'Stop Debugging', type: 'Button',
					id: 'stopButton', onClick: 'stop()', hidden: true %>
				<span id="spinner" class="" align="center"></span>
			</td>
			<td style='text-align:right;'>
				<b class='accepted'>Accepted</b>
				<b class='wrong_answer'>Wrong Answer</b>
				<b class='runtime_error'>Runtime Error</b>
				<b class='compilation_error'>Compilation Error</b>
				<%= f.submit "Submit", confirm: 'Are you sure you want to submit your solution?' %>
				<%= f.submit "Compile" %>
			</td>
		</tr>
	</table>
	<br /><br />
	<textarea id='testcases' class='test'>Test Input</textarea><br /><br />
	<b>Output:</b><br />
	<p class='output'>
		Output response
	</p>

	<!--Author: Ahmed Moataz-->
	<b>Console:</b><br/>
	<div class="console">
		<p class="compilation_succeeded"><%= flash[:compiler_success] %></p>
		<p class="compilation_failed"><%= flash[:compiler_fail] %></p>
		<p class="compilation_feedback"><%= flash[:compiler_feedback] %></p>
	</div>

<% end %>